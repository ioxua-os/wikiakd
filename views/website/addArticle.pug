extend _template

append stylesheets
    link(rel="stylesheet", href="/static/css/addArticle.sass.css")
    link(href='https://cdn.quilljs.com/1.3.6/quill.snow.css', rel='stylesheet')


block content
    .ui.container(style='margin-top: 30px;')
        form(action="article")
            .ui.form
                h3(class="ui dividing header") Adicionar artigo
                
                .field
                    label Título
                    input(placeholder='Título do artigo', type='text', name='title') 
                .field
                    label Subtitulo
                    input(placeholder='Subtitulo do artigo', type='text', name='subtitle') 
                .field
                    label Conteúdo
                    .row.form-group
                        input(name='about', type='hidden')
                        #editor-container
                        .row
                .two.fields
                    .field
                        label Orientador
                        input(placeholder='Nome do orientador', type='text', name="leader")
                    .field
                        label Autor
                        input(placeholder='Nome do autor', type='text', name="author")
                            

                .field
                    input(type="submit", class="ui submit button right floated", value="Adicionar")
            br
            br
            br


block scripts
    script(src='https://cdn.quilljs.com/1.3.6/quill.js')
    script.
        var quill = new Quill('#editor-container', {
            modules: {
                toolbar: [
                ['bold', 'italic'],
                ['link', 'blockquote', 'code-block', 'image'],
                [{ list: 'ordered' }, { list: 'bullet' }]
                ]
            },
            placeholder: 'Escreva o conteúdo do seu artigo...',
            theme: 'snow'
            });

            var form = document.querySelector('form');
            form.onsubmit = function() {
            // Populate hidden form on submit
            var about = document.querySelector('input[name=about]');
            about.value = JSON.stringify(quill.getContents());
            
            console.log("Submitted", $(form).serialize(), $(form).serializeArray());
            
            // No back end to actually submit to!
            alert('Open the console to see the submit data!')
            return false;
            };

    script.
        adicionarAutor(){
            alert("Autor")
        }